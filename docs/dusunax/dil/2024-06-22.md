# Next.js 14 & React - ì™„ë²½ ê°€ì´ë“œ

> ìŠ¤í„°ë””: ì›”ê°„ CS, https://github.com/monthly-cs/2024-06-nextjs  
> ìž‘ì„±ì¼: 2024-06-22
> ìž‘ì„±ìž: dusunax

---

> 192~203

## Next.js ì•± ìµœì í™”

### Next.js Optimizing

> https://nextjs.org/docs/app/building-your-application/optimizing

Next.jsì˜ ê½ƒðŸŒ¼! ìµœì í™” !

Next.js í”„ë ˆìž„ì›Œí¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒ ë¿ë§Œ ì•„ë‹ˆë¼, ë¬¸ì„œë¥¼ ì „ì²´ì ìœ¼ë¡œ í›‘ì–´ë³´ë©´ ì›¹ ê°œë°œ ìµœì í™”ì— ëŒ€í•´ ê°ì„ ìž¡ì„ ìˆ˜ ìžˆì„ ê²ƒ ê°™ë‹¤.
Next.js ê°œë°œíŒ€ì´ ìƒê°í•˜ëŠ” ë§Œí¼ ìµœì í™”ë¥¼ ê³ ë ¤í•  ì¤„ ì•Œë©´ ì´ìƒì ì¸ FE ê°œë°œìžê°€ ì•„ë‹ê¹Œ?

### Image ì»´í¬ë„ŒíŠ¸

- ì‚¬ì´ì¦ˆ ìµœì í™”: WebP, AVIP
- ì‹œê°ì  ì•ˆì •í™”: CLS ë°©ì§€
- íŽ˜ì´ì§€ ë¡œë“œ: ë ˆì´ì§€ ë¡œë”©, ë¸”ëŸ¬
- asset flexibility: ì´ë¯¸ì§€ ë¦¬ì‚¬ì´ì§•

FE ê°œë°œìžê°€ optimizing ê³µì‹ ë¬¸ì„œë¥¼ ì½ê¸° ì‹œìž‘í•˜ë©´ ì•„ë§ˆ ê°€ìž¥ ëˆˆì— ë¨¼ì € ë“¤ì–´ì˜¤ëŠ” ìµœì í™”ê°€ ì´ë¯¸ì§€ ìµœì í™”ê°€ ì•„ë‹ê¹Œ? ì»¤ë¨¸ìŠ¤ ë¿ë§Œ ì•„ë‹ˆë¼ ë‹¤ë¥¸ ë„ë©”ì¸ì—ì„œë„ ì¤‘ìš”í•˜ë‹¤ê³  ìƒê°í•œë‹¤.

### importí•œ ì´ë¯¸ì§€ì˜ ë©”íƒ€ë°ì´í„° ì‚´íŽ´ë³´ê¸°

src, height, width, blurDataURL, blurWidth, blurHeightë¥¼ ê°€ì§€ê³  ìžˆë‹¤.
srcëŠ” ì‹¤ì œ ê²½ë¡œê°€ ì•„ë‹ˆë¼ ë°°í¬ í›„ë‚˜, ê°œë°œ ì¤‘ì— Next.jsê°€ ì²˜ë¦¬ëœ ì´ë¯¸ì§€ë¥¼ ê°€ë¦¬í‚¤ëŠ” ì£¼ì†Œì´ë‹¤.

### Image ì»´í¬ë„ŒíŠ¸ì™€, ìƒì„±ëœ img íƒœê·¸

Image ì»´í¬ë„ŒíŠ¸ëŠ” srcì™€ altë¥¼ í•„ìš”ë¡œ í•˜ê³ , ì²˜ë¦¬ëœ img íƒœê·¸ì˜ loading ì†ì„±ì€ ê¸°ë³¸ì ìœ¼ë¡œ trueë‹¤. ë ˆì´ì§€ ë¡œë”©ì€ ê¸°ë³¸ ì²˜ë¦¬. srcSetì—ëŠ” í™”ë©´ í•´ìƒë„ì— ë”°ë¥¸ ì´ë¯¸ì§€ ì£¼ì†Œ+ì¿¼ë¦¬ìŠ¤íŠ¸ë§ì´ ìžˆëŠ”ë°, Next.jsê°€ ë‹¤ì–‘í•œ í™”ë©´ í•´ìƒë„ì—ì„œ ì´ë¯¸ì§€ë¥¼ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ë™ì ìœ¼ë¡œ ìƒì„±í•œë‹¤.

ìƒì„±ëœ ì´ë¯¸ì§€ëŠ” heightì™€ width ì •ë³´ë¥¼ ê°€ì§€ê³  ìžˆë‹¤. ì´ë¯¸ì§€ê°€ ì–´ë–»ê²Œ ë‚˜íƒ€ë‚ ì§€ ê²°ì •í•˜ëŠ” ì—­í• ì„ í•œë‹¤.
ë¡œì»¬ ì´ë¯¸ì§€ë¥¼ ë¡œë“œí•  ë•ŒëŠ” width, heightë¥¼ ì§€ì •í•˜ì§€ ì•Šê³ , size í”„ë¡œí¼í‹°ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.

> size: https://nextjs.org/docs/pages/api-reference/components/image#sizes

quality í”„ë¡œí¼í‹°ì— 0~100ì˜ ê°’ì„ ì‚¬ìš©í•´ì„œ ì´ë¯¸ì§€ í’ˆì§ˆ ê°’ì„ ì„¤ì •í•  ìˆ˜ë„ ìžˆë‹¤.

### ìœ ì €ê°€ ì˜¬ë¦° ì´ë¯¸ì§€ vs asset image

- ë¡œê³ ì™€ ê°™ì´ í•­ìƒ ì‚¬ì „ ë¡œë“œê°€ í•„ìš”í•œ ì´ë¯¸ì§€ëŠ” priority í‚¤ë¥¼ ì¶”ê°€í•œë‹¤.
- ìœ ì €ê°€ ì—…ë¡œë“œí•œ íŒŒì¼ì˜ ê°€ë¡œ/ì„¸ë¡œ ì‚¬ì´ì¦ˆë¥¼ ì•Œ ìˆ˜ ì—†ì„ ë•ŒëŠ”, ë¶€ëª¨ ê¸°ì¤€ì˜ í¬ê¸°ë¥¼ ì°¨ì§€í•˜ëŠ” fill í”„ë¡œí¼í‹°ì„ ì‚¬ìš©í•œë‹¤. positionì€ absoluteì´ë‹¤.
- ìœ ì €ê°€ ì—…ë¡œë“œí•œ íŒŒì¼ì´ ìžˆëŠ” ìŠ¤í† ë¦¬ì§€ì˜ remotePatternì— ì™¸ë¶€ ì†ŒìŠ¤ì˜ ë„ë©”ì¸ next.configì— ë“±ë¡í•´ì•¼ í•œë‹¤.

#### ì´ë¯¸ì§€ ë¡œë” Loader ë° í´ë¼ìš°ë“œ í¬ê¸° ì¡°ì •

ì •ì  asset í˜¸ìŠ¤íŠ¸ ì„œë¹„ìŠ¤ì—ëŠ” ë³´íŽ¸ì ìœ¼ë¡œ ì—…ë¡œë“œí•  ë•Œ ì´ë¯¸ì§€ë¥¼ ì¡°ìž‘í•˜ê³  ì¶”ê°€ ì„¤ì •í•  ìˆ˜ ìžˆëŠ” ì˜¨ë””ë§¨ë“œ ê¸°ëŠ¥ì´ ìžˆë‹¤! ìžˆë‹¤ë©´ í™œìš©í•˜ìž. ë„ˆë¬´ í° ì´ë¯¸ì§€ë¥¼ ìš”ì²­í•˜ì§€ ì•Šë„ë¡ í•œë‹¤.

- clouldnaryì˜ ê²½ìš°: ì •í•´ì§„ í˜•íƒœì˜ ì„¸ê·¸ë¨¼íŠ¸ë¥¼ íŒŒì¼ëª… ì•žì— ì¶”ê°€í•œë‹¤.
  https://cloudinary.com/documentation/transformation_reference

### ë©”íƒ€ ë°ì´í„°

ì •ì  ë©”íƒ€ë°ì´í„°ì™€ ë™ì  ë©”íƒ€ë°ì´í„°ë¡œ ë‚˜ë‰œë‹¤. 1ì£¼ì°¨ì—ì„œ ì‚´íŽ´ë´¤ë˜ ë‚´ìš©!
ì •ì  ë©”íƒ€ ë°ì´í„°ëŠ” ìƒìˆ˜ë¥¼ ë‚´ë³´ë‚¸ë‹¤. ë™ì  ë©”íƒ€ë°ì´í„°ëŠ” í•¨ìˆ˜ë¥¼ ë‚´ë³´ë‚¸ë‹¤. ë™ì ìœ¼ë¡œ ë°”ë€ŒëŠ” ë©”íƒ€ ë°ì´í„°!
ë ˆì´ì•„ì›ƒ ë©”íƒ€ë°ì´í„°ëŠ”? ë ˆì´ì•„ì›ƒì´ ì ìš©ë˜ëŠ” íŽ˜ì´ì§€ ì¤‘, ìžì²´ ë©”íƒ€ë°ì´í„°ë¥¼ ì„¤ì •í•˜ì§€ ì•Šì€ ëª¨ë“  íŽ˜ì´ì§€ì— ì ìš©ëœë‹¤. `{...layoutMetadata, ...pageMetadata}`ì™€ ê°™ì´ ë³‘í•©ëœë‹¤.

---

```
ì˜ì–´
srcSet => sourceSetì´ë¼ê³  ì½ê¸°
í™”ë©´ í•´ìƒë„ => screen resolution density
```
