
### 기존 React앱의 문제점
기존의 react는 클라이언트 사이드에서 렌더링되기 때문에 서버에는 js 스크립트가 연결된 빈 div만 렌더링된다.
- 사용자들이 데이터에 접근할 때까지 기다려야한다. 
- 검색 엔진에 걸리지 않아 SEO 성능에 좋지 않다.

### Next.js의 사전 렌더링
1. 라우트에 요청이 전송되면 Next.js는 사전 렌더링 된 페이지를 반환한다 (표준 React와의 차이점)
2. 페이지를 다시 클라이언트로 전송된 뒤에 데이터를 로딩하는 대신 Next.js는 페이지와 필요한 데이터가 있는 HTML 콘텐츠를 사전에 렌더링한다.
3. Next.js는 단순히 사전 렌더링된 페이지를 재전송하는데 그치지 않고 포함된 자바스크립트 코드를 모두 재전송한다.
  - 이런 재전송을 해당 페이지에 대해 `수화(hydrate)`한다고 한다.
4. 재전송된 자바스크립트 코드는 나중에 렌더링된 페이지를 대체하고 이에 React가 알맞는 작업을 수행한다.

=> Next.js는 페이지를 사전에 준비하는데 이때 모든 HTML 콘텐츠를 사전에 구축하고 필요한 모든 데이터를 사전에 로딩하는 방식을 따른다.
=> 여기서 중요한 점은 사전 렌더링은 오직 **최초 로딩할 때만**  영향을 미친다.

  ### 정적 생성
빌드되는 동안 모든 페이지가 사전 생성된다. 프로덕션용 애플리케이션을 구축한다면 배포 전에 모든 페이지가 준비돤다.
여기서 사전 생성이라 함은 콘텐츠를 구성하는 모든 HTML코드와 모든 데이터를 사전에 준비시켜 놓는다는 뜻이다. (서버 사이드와 헷갈릴 수 있다. 즉 보통 서버 사이드에서만 실행되는 코드를 빌드 프로세스 동안 실행되도록 허용한 것)
빌드 시간 중 데이터와 페이지가 준비되는데 이때 빌드 식나은 배포전 애플리케이션을 구축할 때를 말한다. 빌드 시간 중 페이지가 사전에 구축되었기 때문에 배포되고 나면 구축된 페이지는 서버나 앱을 실행시키는 CDN을 통해서 캐시로 저장된다. 이에 사전 구축된 페이지를 통해서 즉시 입력 요청일 실행될 수 있다. 

페이지가 표시되고 난 뒤에도 React 앱을 통해 수화(hydrate)작업을 거쳐 표준 React 앱으로 작동한다.

=> CSR과 차이점은 빈페이지가 아닌 사전에 콘텐츠로 채워져있는 것 

### 서버 사이드 렌더링(SSR)
배포 후 요청이 서버까지 오는 바로 그때 모든 페이지가 생성된다.


`getStaticProps`
- 보통 서버 사이드에서만 실행되는 모든 코드도 실행할 수 있다.
- getStaticProps 내에 작성한 코드는 클라이언트에게 재전송되는 코드로 포함되지 않는다. (함수 내에 포함하는 코드는 클라이언트가 볼 수 없다)
- 
